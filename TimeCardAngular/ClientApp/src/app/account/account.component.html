<form novalidate #form="ngForm" autocomplete="off">
  <div class="card mt-3">
    <div class="card-body" [ngClass]="editAppUser.userId == 0 ? 'bg-success' : 'bg-info'">
      <div class="form-group form-row">
        <div class="col-md-1 col-form-label text-right">User</div>
        <div class="col-md-2">
          <input [(ngModel)]="editAppUser.userName" name="userName" class="form-control" required maxlength="20"/>
        </div>
        <div class="col-md-1 col-form-label text-right">Full</div>
        <div class="col-md-3"><input [(ngModel)]="editAppUser.userFullName" name="userFullName" class="form-control" required maxlength="50"/></div>
        <div class="form-check col-md-1 offset-1">
          <label class="form-check-label">
            <input type="checkbox" [(ngModel)]="editAppUser.active" name="active" class="form-check-input">Active
          </label>
          <label class="form-check-label">
            <input type="checkbox" [(ngModel)]="editAppUser.reset" name="reset" class="form-check-input">Reset
          </label>
        </div>
        <div id="divEditButtons" class="col-md-3 text-right">
          <button class="btn btn-default fa fa-2x fa-plus" type="button" *ngIf="editAppUser.id != 0" (click)="add()"></button>
          <button class="btn btn-default fa fa-2x fa-times" type="button" *ngIf="editAppUser.id != 0" (click)="delete()"></button>
          <button class="btn btn-default fa fa-2x fa-check" (click)="save(form)"></button>
        </div>
      </div>
      <div class="form-group form-row">
        <div class="col-md-1 col-form-label text-right">Roles</div>
        <div class="col-md-10">
          <div class="form-check-inline"></div>
          <div *ngFor="let role of roles" class="form-check-inline">
            <div class="custom-control form-control custom-checkbox bg-transparent border-0">
              <input asp-for="EditAppUser.Roles[i].Active" class="custom-control-input role-edit-active" />
              <input asp-for="EditAppUser.Roles[i].Id" type="hidden" />
              <label asp-for="EditAppUser.Roles[i].Active" class="custom-control-label" style="color:#212529;">@Model.EditAppUser.Roles[i].Descr</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <table class="table table-hover table-striped table-sm">
    <thead>
      <tr>
        <th>User Name</th>
        <th>Full Name</th>
        <th>Active</th>
        <th>Last Login</th>
        <th>Roles</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users" class="tr-clickable" style="cursor:pointer;" (click)="select(user.userId)">
        <td>{{user.userName}}</td>
        <td>{{user.userFullName}}</td>
        <td><span [ngClass]="user.active ? 'fa fa-check' : ''"></span></td>
        <td>{{user.lastLogin | date }}</td>
        <td>{{user.roles.join()}}</td>
        <td><button class="btn btn-default btn-address fa fa-address-card" title="Address/Rate" type="button" *ngIf="isContractor(user)"></button></td>
      </tr>
    </tbody>
  </table>
</form>

<div id="addressModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
    </div>
  </div>

</div>
